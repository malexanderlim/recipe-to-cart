<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe to Cart</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Recipe to Cart</h1>

    <div class="container">
        <p class="intro-text">Turn recipe photos or URLs into shopping lists! Upload an image or paste a link, adjust servings, and we'll build your Instacart cart.</p>

        <!-- Section 1: Add Recipes -->
        <section id="add-recipes-section" class="step-section">
            <h2>1. Add Recipes</h2>
            <p class="clarification-text">Add recipes by uploading images <strong>and/or</strong> pasting URLs below:</p>

            <div class="input-method">
                <h3>Upload Recipe Image(s)</h3>
                <input type="file" id="recipeImages" accept="image/*,.heic,.heif" multiple>
                <p class="helper-text">(Supports JPG, PNG, HEIC, etc. Select one or more files.)</p>
                <div id="image-preview-area"></div> <!-- Previews will appear here -->
            </div>

            <div class="input-method">
                <h3>Paste Recipe URL</h3>
                <div class="url-input-container">
                    <input type="url" id="recipeUrlInput" placeholder="Enter recipe web address (e.g., https://...)">
                    <button id="addUrlButton">Add URL</button>
                </div>
                <div id="url-error-message" class="error-message inline-error" style="display: none;"></div> <!-- Placeholder for inline URL errors -->
            </div>
        </section>

        <!-- Section 2: Review Extracted Ingredients -->
        <section id="results-section" class="step-section">
            <h2>2. Review Extracted Ingredients</h2>
            <p class="helper-text">(Adjust yield and uncheck items you already have before reviewing.)</p>
            <!-- Pantry checkbox added dynamically here -->
            <div id="recipe-results-container">
                <!-- Recipe result cards will be injected here by script.js -->
            </div>

            <div id="loading-indicator" class="loading" style="display: none;">Processing...</div>
            <div id="error-message" class="error-message"></div>

            <!-- Consolidate Button - Logically leads to the next step -->
            <div class="action-area">
                 <button id="create-list-button" disabled>Consolidate & Review Final List</button>
            </div>
        </section>

        <!-- Section 3: Final Shopping List -->
        <section id="final-list-section" class="step-section" style="display: none;">
             <h2>3. Final Shopping List</h2>
             <div id="review-list-area">
                 <!-- Content generated by displayReviewList -->
             </div>
             <div id="instacart-link-area">
                <!-- Instacart link/button appears here -->
             </div>
             <div id="instacart-loading-indicator" class="loading" style="display: none;">Sending to Instacart...</div>
             <div id="instacart-error-message" class="error"></div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html> 